import re

def reformat_onvisible_code(code):
    # Regular expression pattern to match onvisible.add() occurrences
    pattern = r"onvisible\.add\(([^,]+),\s*\{([^}]+)\}\);"

    # Function to reformat each match
    def format_match(match):
        selector = match.group(1).strip()
        params_str = match.group(2).strip()
        
        # Split parameters by commas and clean them up
        params = [param.strip() for param in params_str.split(',')]
        
        # Reformat the parameters into a one-liner with commas
        formatted_params = ', '.join([f"{param}" for param in params])
        
        # Return the formatted string with each onvisible.add on a new line
        return f"onvisible.add({selector}, {{{formatted_params}}});"

    # Using re.sub to apply the formatting function to each match
    reformatted_code = re.sub(pattern, format_match, code)
    
    # Split the code by lines to ensure each onvisible.add is on a new line
    return '\n'.join(reformatted_code.split(';'))

# Example input: the original code block
original_code = """onvisible.add('#image01', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 375, replay: false });onvisible.add('#text02', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 250, replay: true });onvisible.add('.image.style2', { style: 'fade-down', speed: 1250, intensity: 5, threshold: 3, delay: 500, replay: true });onvisible.add('#text03', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: true });onvisible.add('.image.style3', { style: 'fade-down', speed: 1250, intensity: 5, threshold: 3, delay: 750, replay: true });onvisible.add('#text04', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 750, replay: true });onvisible.add('.image.style4', { style: 'fade-down', speed: 1250, intensity: 5, threshold: 3, delay: 1000, replay: true });onvisible.add('#text09', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 1000, replay: true });onvisible.add('#image64', { style: 'fade-in', speed: 1000, intensity: 2, threshold: 3, delay: 1375, replay: true });onvisible.add('.image.style5', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('.icons.style1', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#text50', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 375, replay: true });onvisible.add('#text51', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: true });onvisible.add('#image74', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#text07', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 375, replay: true });onvisible.add('#text10', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: true });onvisible.add('#text52', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: true });onvisible.add('#text46', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#image75', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#image25', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 750, replay: false });onvisible.add('h1.style1, h2.style1, h3.style1, p.style1', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('.image.style1', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: false });onvisible.add('#image226', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: false });onvisible.add('.image.style6', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: false });onvisible.add('#text42', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#icons05', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#video01', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 375, replay: true });onvisible.add('#image20', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 625, replay: true });onvisible.add('#image16', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 750, replay: true });onvisible.add('#image21', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 1000, replay: true });onvisible.add('#image76', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 1125, replay: true });onvisible.add('#image77', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 1250, replay: true });onvisible.add('#image78', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 1375, replay: true });onvisible.add('#image112', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: false });onvisible.add('.video.style1', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text22', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text23', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#image40', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons15', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#text24', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text25', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text26', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text13', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text27', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text37', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text14', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text16', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text28', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#image66', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: true });onvisible.add('#text29', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#image46', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons21', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image67', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: true });onvisible.add('#text30', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#image47', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons22', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#text31', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#image48', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons23', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#text32', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#image49', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons24', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#text33', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#image72', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons25', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#text34', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#image58', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons27', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image87', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: false });onvisible.add('#image131', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: false });onvisible.add('#image114', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: false });onvisible.add('#image115', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: false });onvisible.add('#text47', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text49', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text08', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text12', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text36', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text56', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text48', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text70', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#container110', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#container100', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#text69', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text59', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons36', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#text61', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text19', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('.buttons.style1', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#text62', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text41', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text63', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text45', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text64', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text15', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#image103', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: false });onvisible.add('#text65', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text44', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text66', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text38', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#image105', { style: 'fade-down', speed: 1000, intensity: 5, threshold: 3, delay: 500, replay: false });onvisible.add('#text67', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text39', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#image133', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons48', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#container107', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#image116', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons49', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#container16', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#image122', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons50', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image151', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons52', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#container113', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#image73', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#container105', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#image146', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons53', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#container116', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#image167', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons54', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#container129', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#image142', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons55', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image192', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons67', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#container143', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#container141', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#text55', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#text74', { style: 'zoom-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#video36', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#image189', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons66', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#video37', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#video38', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#video39', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#video40', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#video41', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#video42', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#video43', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#video44', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#video45', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#video46', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#image145', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons56', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image180', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons57', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image181', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons58', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image182', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons59', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image183', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons60', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image184', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons61', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image185', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons62', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image186', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons63', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image32', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons07', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image187', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons64', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#image188', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });onvisible.add('#icons65', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 125, replay: true });onvisible.add('#video35', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: false });onvisible.add('#image83', { style: 'fade-in', speed: 1000, intensity: 5, threshold: 3, delay: 0, replay: true });"""

# Reformat the code
reformatted_code = reformat_onvisible_code(original_code)

with open('/Users/ekanemokeke/Documents/Extracurriculars/kpopedits/bae173/baeflix/reformatted_code.js', 'w') as file:
    file.write(reformatted_code)

print("Reformatted code has been written to 'reformatted_code.js'")
